<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.24.79"/><style data-styled="" data-styled-version="5.2.0">body{background-color:#282a36;width:80vw;font-family:'Space Mono';}/*!sc*/
h4{color:#8694b1;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
a{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
a{color:#bd96f0;}/*!sc*/
a:hover{color:#282a36;background-color:#bd96f0;}/*!sc*/
img{width:100%;height:auto;}/*!sc*/
data-styled.g1[id="sc-global-fHsaqC1"]{content:"sc-global-fHsaqC1,"}/*!sc*/
.EzSst{padding:1rem;margin-left:25vw;color:white;width:65%;}/*!sc*/
.EzSst code{background-color:#363948;}/*!sc*/
data-styled.g4[id="post__StyledPost-sc-130zpan-0"]{content:"EzSst,"}/*!sc*/
</style><link href="https://fonts.googleapis.com/css?family=Space+Mono:400,700" rel="stylesheet"/><link as="script" rel="preload" href="/webpack-runtime-9ba3d4953038f13ac4c6.js"/><link as="script" rel="preload" href="/framework-256fdde5199f9087be1b.js"/><link as="script" rel="preload" href="/app-8a286143b40e5b6c2ec4.js"/><link as="script" rel="preload" href="/commons-865c6a758ed7e2eabd99.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-2e551a17ad0a31f82dae.js"/><link as="fetch" rel="preload" href="/page-data/posts/shape-studio-development-blog:-the-scene-problem/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><a href="/"><h4>// Technicode.io</h4></a><h4>// All things Tech and Code</h4><div class="post__StyledPost-sc-130zpan-0 EzSst"><h1>Shape Studio Development Blog: The Scene Problem</h1><p>Sat Jan 02 2021</p><div><p>As Shape Studio grows, I think I'd like to use this blog as an outlet to think through the problems I come across. The most recent problem I've been facing is how I can best update the Scene object to make future changes easier to implement.</p>
<p>The scene object is a large json object created by Three.js. It holds all the information about the scene as well as all the objects in that scene. Currently in order to save the scene I'm making use of Three.js' built in Scene.toJSON method, stringifying it and sending it to the database.</p>
<p>This works. The payload does end up being quite a large string to send over but it only takes a second or two. However I think it can certainly be better. Also currently I have no way of singling out individual objects in a scene and if I'd like to implement an object store later on where users can make their objects available for others to use, this may be a problem.</p>
<p>So in order to remedy this, I'm thinking about breaking up that scene object, specifically taking out the scene children, which are the objects in the scene, and storing them separately in another table in the database. This would make the scene payload smaller and maybe a bit quicker, and could allow me to implement some sort of smart saving where when changes are made to the objects, they get saved to the database automatically.</p>
<p>Now this could turn out to be a terrible idea. The scene object could still be large enough to give a slow load time and adding the individual objects to that scene save in separate database api calls could make it worse. But it might not be too bad, or it might turn out to be quicker since a full scene save would have less data. It would be essentially spreading out the database calls over more time.</p>
<p>Alternatively, I could still break out the objects into their own table and reference them in the scene object, but maybe not call a save on the object after every change. I'd still be sending all the data along on a full save which wouldn't be too different to the load times now, but I'd then have access to all the individual objects for the object store.</p>
<p>Both of these options involve me breaking out the scene children and making an objects table in the database, so I guess that's where I'll start! Once that's complete I'll code out both options on separate branches and see which one works best.</p>
<p>If you'd like to hear more frequent thoughts about Shape Studio's development feel free to follow me on twitter <a href="https://twitter.com/kyletomanelli">@kyletomanelli</a></p></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/shape-studio-development-blog:-the-scene-problem";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-177f0ce798b672df6e51.js"],"app":["/app-8a286143b40e5b6c2ec4.js"],"component---src-pages-index-js":["/component---src-pages-index-js-426671a7be08568aa1e5.js"],"component---src-templates-post-js":["/component---src-templates-post-js-2e551a17ad0a31f82dae.js"]};/*]]>*/</script><script src="/polyfill-177f0ce798b672df6e51.js" nomodule=""></script><script src="/component---src-templates-post-js-2e551a17ad0a31f82dae.js" async=""></script><script src="/commons-865c6a758ed7e2eabd99.js" async=""></script><script src="/app-8a286143b40e5b6c2ec4.js" async=""></script><script src="/framework-256fdde5199f9087be1b.js" async=""></script><script src="/webpack-runtime-9ba3d4953038f13ac4c6.js" async=""></script></body></html>